# Load chuby if installed
if [[ -e /usr/local/share/chruby ]]; then
  source /usr/local/share/chruby/chruby.sh
  source /usr/local/share/chruby/auto.sh
fi

# Show Git branch in prompt
# Adapted from gist at: https://gist.github.com/henrik/31631
#   [ username@host ~/dev/dir master ] $   # clean working directory
#   [ username@host ~/dev/dir master* ] $  # dirty working directory
function parse_git_dirty {
  status=$(git status 2> /dev/null | tail -n1)
  [[ $status != "nothing to commit (working directory clean)" ]] || [[ $status != "nothing to commit, working directory clean" ]] && echo "*"
}

function parse_git_branch {
  git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e "s/* \(.*\)/ \1$(parse_git_dirty) /"
}

# Create a directory and immediately cd into it
function take {
  mkdir $1
  cd $1
}

# Show most frequently used commands
function freq {
  history | awk '{print $2}' | awk 'BEGIN {FS="|"} {print $1}' | sort | uniq -c | sort -r | head -n 12
}

